# 25.11.09 算法刷题笔记

## 力扣：239. 滑动窗口最大值
**链接**：https://leetcode.cn/problems/sliding-window-maximum/  
**相关标签**：`队列` `数组` `滑动窗口` `单调队列` `堆（优先队列）`  
**难度**：`困难`
### 方法1：`平衡树`
- **时间复杂度**：$O(n \log n)$
- **空间复杂度**：$O(n)$
```cpp
class Solution {
public:
    vector<int> maxSlidingWindow(vector<int>& nums, int k) {
        multiset<int> a;
        vector<int> ans;
        for(int i=0; i<nums.size(); i++){
            a.insert(nums[i]);
            if(i < k - 1) continue;
            ans.push_back(*a.rbegin());
            auto it = a.find(nums[i-k+1]);
            if(it != a.end()) a.erase(it);
        }
        return ans;
    }
};
```
### 方法2：`单调队列`
- **时间复杂度**：$O(n)$
- **空间复杂度**：$O(n)$
```cpp
class Solution {
public:
    vector<int> maxSlidingWindow(vector<int>& nums, int k) {
        vector<int> ans;
        deque<int> q;
        for(int i=0; i<nums.size(); i++){
            while(!q.empty() && nums[i] > nums[q.back()]) q.pop_back();
            q.push_back(i);
            if(i < k - 1) continue;
            if(q.front() < i-k+1) q.pop_front();
            ans.push_back(nums[q.front()]);
        }
        return ans;
    }
};
```