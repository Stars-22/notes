# 25.12.17 算法刷题笔记

## 力扣：3573. 买卖股票的最佳时机 V
**链接**：https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-v/  
**相关标签**：`数组` `动态规划`  
**难度**：`中等`
### 方法1：`动态规划`
- **时间复杂度**：$O(nk)$
- **空间复杂度**：$O(k)$
```cpp
class Solution {
public:
    long long maximumProfit(vector<int>& prices, int k) {
        vector<long long> dp0(k+1, 0);
        vector<long long> dp1(k+1, 0);
        vector<long long> dp2(k+1, 0);
        for (int i=1; i<=k; i++){
            dp1[i] = -prices[0];
            dp2[i] = prices[0];
        }
        for(const int p : prices){
            for(int i=k; i>0; i--){
                dp0[i] = max(dp0[i], max(dp1[i]+p, dp2[i]-p));
                dp1[i] = max(dp1[i], dp0[i-1]-p);
                dp2[i] = max(dp2[i], dp0[i-1]+p);
            }
        }
        return dp0[k];
    }
};
```